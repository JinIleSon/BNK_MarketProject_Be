<div th:replace="~{admin/_header.html}"></div>
<style>
    .title-line {
        width: 880px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-left: 20px;
    }

    table {
        border-collapse: collapse;
        width: 880px;
        margin-left: 20px;
    }
    th, td {
        border: 1px solid #ddd;
        border-left: none;
        border-right: none;
        padding: 10px;
        font-weight: normal;
    }
    .th-blue {
        background-color: #f2f2f2;
        text-align: left;
    }
    .th-gray {
        background-color: #f2f2f2;
        text-align: left;
    }

    .section-title {
        font-weight: bold;
        font-size: 16px;
        margin-top: 20px;
        margin-bottom: 10px;
        margin-left: 20px;
    }
    .status-gap {
        height: 10px;
        border: none;
    }
    .btn {
        padding: 8px 12px;
        background-color: #000000;
        color: #fff;
        border: none;
        cursor: pointer;
        float: right;
    }

    html{ scrollbar-gutter: stable; }
    .icon-btn {
        background:none; border:1px solid #000; cursor:pointer;
        width:40px; height:40px; display:grid; place-items:center;
    }
</style>
    <main style="display: flex; justify-content: center; border-top:1px solid #e2e2e2;">
        <div>
            <aside class="euro-nav" aria-label="ê´€ë¦¬ì ì‚¬ì´ë“œ ë©”ë‰´" style="">
                <section class="euro-nav__group">
                    <h4 class="euro-nav__title" style="">í™˜ê²½ì„¤ì •</h4>
                    <ul class="euro-nav__list">
                        <li class="euro-nav__item is-active"><a th:href="@{/admin/admin_basic}">ê¸°ë³¸ì„¤ì •</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/admin_banner}">ë°°ë„ˆê´€ë¦¬</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/admin_policy}">ì•½ê´€ê´€ë¦¬</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/admin_category}">ì¹´í…Œê³ ë¦¬</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/admin_version}">ë²„ì „ê´€ë¦¬</a></li>
                    </ul>
                </section>

                <section class="euro-nav__group">
                    <h4 class="euro-nav__title" style="">ìƒì ê´€ë¦¬</h4>
                    <ul class="euro-nav__list">
                        <li class="euro-nav__item"><a th:href="@{/admin/shop/list}">ìƒì ëª©ë¡</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/sales/list}">ë§¤ì¶œí˜„í™©</a></li>
                    </ul>
                </section>

                <section class="euro-nav__group">
                    <h4 class="euro-nav__title" style="">íšŒì›ê´€ë¦¬</h4>
                    <ul class="euro-nav__list">
                        <li class="euro-nav__item"><a th:href="@{/admin/member/list}">íšŒì›ëª©ë¡</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/point/list}">í¬ì¸íŠ¸ê´€ë¦¬</a></li>
                    </ul>
                </section>

                <section class="euro-nav__group">
                    <h4 class="euro-nav__title" style="">ìƒí’ˆê´€ë¦¬</h4>
                    <ul class="euro-nav__list">
                        <li class="euro-nav__item"><a th:href="@{/admin/product/list}">ìƒí’ˆëª©ë¡</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/productReg/list}">ìƒí’ˆë“±ë¡</a></li>
                    </ul>
                </section>

                <section class="euro-nav__group">
                    <h4 class="euro-nav__title" style="">ì£¼ë¬¸ê´€ë¦¬</h4>
                    <ul class="euro-nav__list">
                        <li class="euro-nav__item"><a th:href="@{/admin/order/list}">ì£¼ë¬¸í˜„í™©</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/delivery/list}">ë°°ì†¡í˜„í™©</a></li>
                    </ul>
                </section>

                <section class="euro-nav__group">
                    <h4 class="euro-nav__title" style="">ì¿ í°ê´€ë¦¬</h4>
                    <ul class="euro-nav__list">
                        <li class="euro-nav__item"><a th:href="@{/admin/coupon/list}">ì¿ í°ëª©ë¡</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/couponsnow/list}">ì¿ í°ë°œê¸‰í˜„í™©</a></li>
                    </ul>
                </section>

                <section class="euro-nav__group">
                    <h4 class="euro-nav__title" style="">ê³ ê°ì„¼í„°</h4>
                    <ul class="euro-nav__list">
                        <li class="euro-nav__item"><a th:href="@{/admin/announcement/list}">ê³µì§€ì‚¬í•­</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/FAQ/list}">ìì£¼ë¬»ëŠ”ì§ˆë¬¸</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/inquiry/list}">ë¬¸ì˜í•˜ê¸°</a></li>
                        <li class="euro-nav__item"><a th:href="@{/admin/employ/list}">ì±„ìš©í•˜ê¸°</a></li>
                    </ul>
                </section>
            </aside>
        </div>        
        <div style=" border-left:1px solid #e2e2e2;"></div>
        <div style="margin-left:40px; width:900px; ">

    <div class="title-line" style="border-bottom: 2px solid #ccc;">
        <div style="padding-top: 10px; padding-bottom: 5px; font-size: 22px;"><b>ê¸°ë³¸ì„¤ì •</b></div>
        <div>HOME > í™˜ê²½ì„¤ì • > <b>ê¸°ë³¸ ì„¤ì •</b></div>
    </div>   

    <!-- ë²„ì „ ì •ë³´ -->
    <div class="title-line" style="padding-top: 20px; padding-bottom: 5px;"><b>ë²„ì „ ì •ë³´</b></div>
    <table>
        <tr class="th-gray">
            <th colspan="2">í˜„ì¬ ì‚¬ì´íŠ¸ ë²„ì „ ì…ë‹ˆë‹¤.</th>
        </tr>
        <tr class="status-gap"></tr>
        <tr>
            <th class="th-blue" style="width: 120px;">ì‚¬ì´íŠ¸ ë²„ì „</th>
            <td th:text="${appVersion}"></td>
        </tr>
    </table>

    <!-- ì‚¬ì´íŠ¸ -->
    <div class="title-line" style="padding-top: 20px; padding-bottom: 5px;"><b>ì‚¬ì´íŠ¸</b></div>

    <form th:action="@{/admin/admin_basic}" method="post" th:object="${config}">
        <table>
            <tr class="th-gray">
                <th colspan="2">ë¸Œë¼ìš°ì € íƒ­, í—¤ë” ë° í‘¸í„° ë…¸ì¶œ ì •ë³´ ì…ë‹ˆë‹¤.</th>
            </tr>
            <tr class="status-gap"></tr>
            <tr>
                <th class="th-blue" style="width: 150px;">ì œëª©</th>
                <td>
                    <input type="text" th:field="*{siteTitle}"    placeholder="ì‚¬ì´íŠ¸ ì œëª©"/>
                </td>
            </tr>
            <tr>
                <th class="th-blue">ë¶€ì œ</th>
                <td>
                    <input type="text" th:field="*{siteSubtitle}" placeholder="ì‚¬ì´íŠ¸ ì„œë¸Œíƒ€ì´í‹€"/>
                </td>
            </tr>
        </table>
        <button class="btn" type="submit">ìˆ˜ì •í•˜ê¸°</button>
    </form>

    <!-- ë¡œê³  -->
    <div class="title-line" style="padding-bottom: 5px;"><b>ë¡œê³ </b></div>

    <form th:action="@{/admin/admin_basic}" method="post" enctype="multipart/form-data">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <!-- ê¸°ì¡´ ê°’ë„ í•¨ê»˜ ë³´ëƒ„: ìƒˆ íŒŒì¼ì´ ì—†ìœ¼ë©´ ì„œë¹„ìŠ¤ì—ì„œ ì´ ê°’ ìœ ì§€ -->
        <input type="hidden" name="headerLogo" th:value="${config.headerLogo}">
        <input type="hidden" name="footerLogo" th:value="${config.footerLogo}">
        <input type="hidden" name="favicon"    th:value="${config.favicon}">

        <table>
            <tr class="th-gray">
                <th colspan="2">ë¸Œë¼ìš°ì € íƒ­, í—¤ë” ë° í‘¸í„° ë…¸ì¶œ ë¡œê³  ì…ë‹ˆë‹¤.</th>
            </tr>
            <tr class="status-gap"></tr>

            <!-- í—¤ë” ë¡œê³  -->
            <tr>
                <th class="th-blue" style="width: 150px;">í—¤ë” ë¡œê³ </th>
                <td>
                    <input type="file" name="headerLogoFile" accept="image/*"
                           style="border: 2px solid #ced4da; padding: 2px;">
                    <span> í¬ê¸° 370 Ã— 76 ê¶Œì¥</span>

                    <!-- ë¯¸ë¦¬ë³´ê¸° -->
                    <div th:if="${config.headerLogo}" style="margin-top:8px;">
                        <img id="headerLogoImg"
                             th:src="${config.headerLogo.startsWith('/upload') ? '/NICHIYA' + config.headerLogo : config.headerLogo}"
                             alt="Header Logo"
                             style="max-height:76px; max-width:370px;">
                        <label style="margin-left:8px;">
                            <input type="checkbox" name="removeHeaderLogo"> ì œê±°
                        </label>
                    </div>

                    <script th:inline="javascript">
                        const headerLogo = /*[[${config.headerLogo}]]*/ '';
                        console.log("ğŸ§© headerLogo =", headerLogo);
                        console.log("ğŸ§© ì‹¤ì œ img src =", document.getElementById("headerLogoImg")?.src);
                    </script>


                </td>
            </tr>

            <!-- í‘¸í„° ë¡œê³  -->
            <tr>
                <th class="th-blue">í‘¸í„° ë¡œê³ </th>
                <td>
                    <input type="file" name="footerLogoFile" accept="image/*"
                           style="border: 2px solid #ced4da; padding: 2px;">
                    <span> í¬ê¸° 155 Ã— 36 ê¶Œì¥</span>

                    <div th:if="${config.footerLogo}" style="margin-top:8px;">
                        <img id="footerLogoImg"
                             th:src="${config.footerLogo.startsWith('/upload') ? '/NICHIYA' + config.footerLogo : config.footerLogo}"
                             alt="Footer Logo"
                             style="max-height:36px; max-width:155px;">
                        <label style="margin-left:8px;">
                            <input type="checkbox" name="removeFooterLogo"> ì œê±°
                        </label>
                    </div>
                </td>
            </tr>

            <!-- íŒŒë¹„ì½˜ -->
            <tr>
                <th class="th-blue">íŒŒë¹„ì½˜</th>
                <td>
                    <input type="file" name="faviconFile" accept="image/*,.ico"
                           style="border: 2px solid #ced4da; padding: 2px;">
                    <span> í¬ê¸° 32 Ã— 32 ê¶Œì¥</span>

                    <div th:if="${config.favicon}" style="margin-top:8px;">
                        <img id="faviconImg"
                             th:src="${config.favicon.startsWith('/upload') ? '/NICHIYA' + config.favicon : config.favicon}"
                             alt="Favicon"
                             style="width:32px;height:32px;">
                        <label style="margin-left:8px;">
                            <input type="checkbox" name="removeFavicon"> ì œê±°
                        </label>
                    </div>
                </td>
            </tr>
        </table>
        <button type="submit" class="btn">ìˆ˜ì •í•˜ê¸°</button>
    </form>

    <!-- ê¸°ì—… ì •ë³´ -->
            <form th:action="@{/admin/admin_basic}" method="post" th:object="${config}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <input type="hidden" name="section" value="company"/>

                <div class="title-line"><b>ê¸°ì—… ì •ë³´</b></div>
                <table>
                    <tr class="th-gray"><th colspan="2">ë¸Œë¼ìš°ì € íƒ­, í—¤ë” ë° í‘¸í„° ë…¸ì¶œ ì •ë³´ ì…ë‹ˆë‹¤.</th></tr>
                    <tr><th class="th-blue">ìƒí˜¸ëª…</th>
                        <td><input type="text" th:field="*{companyName}" style="width:250px"/></td></tr>
                    <tr><th class="th-blue">ëŒ€í‘œì´ì‚¬</th>
                        <td><input type="text" th:field="*{ceoName}" style="width:250px"/></td></tr>
                    <tr><th class="th-blue">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸</th>
                        <td><input type="text" th:field="*{bizRegNo}" style="width:250px"/></td></tr>
                    <tr><th class="th-blue">í†µì‹ íŒë§¤ì—…ì‹ ê³ </th>
                        <td><input type="text" th:field="*{mailOrderNo}" style="width:250px"/></td></tr>
                    <tr><th class="th-blue">ê¸°ë³¸ì£¼ì†Œ</th>
                        <td><input type="text" th:field="*{addrBase}" style="width:350px"/></td></tr>
                    <tr><th class="th-blue">ìƒì„¸ì£¼ì†Œ</th>
                        <td><input type="text" th:field="*{addrDetail}" style="width:350px"/></td></tr>
                </table>
                <button class="btn" type="submit">ìˆ˜ì •í•˜ê¸°</button>
            </form>


            <!-- ê³ ê°ì„¼í„° ì •ë³´ -->
            <form th:action="@{/admin/admin_basic}" method="post" th:object="${config}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <input type="hidden" name="section" value="cs"/>

                <div class="title-line"><b>ê³ ê°ì„¼í„° ì •ë³´</b></div>
                <table>
                    <tr class="th-gray"><th colspan="2">í‘¸í„°ì— ë…¸ì¶œë˜ëŠ” ê³ ê°ì„¼í„° ì •ë³´ ì…ë‹ˆë‹¤.</th></tr>
                    <tr><th class="th-blue">ì „í™”ë²ˆí˜¸</th>
                        <td><input type="text" th:field="*{csTel}" style="width:250px"/></td></tr>
                    <tr><th class="th-blue">ì—…ë¬´ì‹œê°„</th>
                        <td><input type="text" th:field="*{csHours}" style="width:250px"/></td></tr>
                    <tr><th class="th-blue">ì´ë©”ì¼</th>
                        <td><input type="email" th:field="*{csEmail}" style="width:250px"/></td></tr>
                    <tr><th class="th-blue">ì „ìê¸ˆìœµê±°ë˜ ë¶„ìŸë‹´ë‹¹</th>
                        <td><input type="text" th:field="*{efinDisputeTel}" style="width:250px"/></td></tr>
                </table>
                <button class="btn" type="submit">ìˆ˜ì •í•˜ê¸°</button>
            </form>


            <!-- ì¹´í”¼ë¼ì´íŠ¸ -->
            <form th:action="@{/admin/admin_basic}" method="post" th:object="${config}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <input type="hidden" name="section" value="copyright"/>

                <div class="title-line"><b>ì¹´í”¼ë¼ì´íŠ¸</b></div>
                <table>
                    <tr class="th-gray"><th colspan="2">í‘¸í„°ì— ë…¸ì¶œë˜ëŠ” ê³ ê°ì„¼í„° ì •ë³´ ì…ë‹ˆë‹¤.</th></tr>
                    <tr><th class="th-blue">ì¹´í”¼ë¼ì´íŠ¸</th>
                        <td><input type="text" th:field="*{copyrightText}" style="width:300px"/></td></tr>
                </table>
                <button class="btn" type="submit">ìˆ˜ì •í•˜ê¸°</button>
            </form>

        </div>
    </main>

    <style>
        .euro-nav__list {
            max-height: 0;                /* ê¸°ë³¸ì€ ì ‘í˜ */
            overflow: hidden;             /* ì•ˆ ë³´ì´ê²Œ */
            transition: max-height 0.15s ease;
        }

            .euro-nav__group.open .euro-nav__list {
            max-height: 500px;            /* í¼ì³ì¡Œì„ ë•Œ (ì¶©ë¶„íˆ í¬ê²Œ ì„¤ì •) */
        }
    </style>
    <script>
        // ì•„ì½”ë””ì–¸: í´ë¦­ ì‹œ ë†’ì´ë¥¼ ì‹¤ì œ ë‚´ìš© ë†’ì´ë¡œ ì• ë‹ˆë©”ì´ì…˜
  document.querySelectorAll('.euro-nav__title').forEach(title => {
    title.style.cursor = 'pointer'; // í´ë¦­ ê°€ëŠ¥ ì‹œê°í™”(ì„ íƒ)
    title.addEventListener('click', () => {
      const group = title.parentElement;
      const list  = group.querySelector('.euro-nav__list');

      const isOpen = group.classList.contains('open');

      if (isOpen) {
        // ë‹«ê¸°: í˜„ì¬ ë†’ì´ë¥¼ ê³ ì • -> 0ìœ¼ë¡œ
        list.style.maxHeight = list.scrollHeight + 'px';
        // ê°•ì œ ë¦¬í”Œë¡œìš°ë¡œ íŠ¸ëœì§€ì…˜ ì‹œì‘ì  í™•ì •
        list.offsetHeight; 
        list.style.maxHeight = '0px';
        group.classList.remove('open');
      } else {
        // ì—´ê¸°: 0 -> ë‚´ìš© ë†’ì´
        group.classList.add('open');
        list.style.maxHeight = list.scrollHeight + 'px';

        // ì• ë‹ˆë©”ì´ì…˜ ëë‚˜ë©´ inline max-height ì œê±°(ìì—°ìŠ¤ëŸ° ë ˆì´ì•„ì›ƒ)
        const onEnd = (e) => {
          if (e.propertyName === 'max-height') {
            list.style.maxHeight = 'none';
            list.removeEventListener('transitionend', onEnd);
          }
        };
        list.addEventListener('transitionend', onEnd);
      }
    });
  });

  const groups = document.querySelectorAll('.euro-nav__group');
  document.querySelectorAll('.euro-nav__title').forEach(title => {
    title.addEventListener('click', () => {
      groups.forEach(g => {
        if (g !== title.parentElement && g.classList.contains('open')) {
          const l = g.querySelector('.euro-nav__list');
          l.style.maxHeight = l.scrollHeight + 'px';
          l.offsetHeight;
          l.style.maxHeight = '0px';
          g.classList.remove('open');
        }
      });
    }, {capture:true});
  });
  
    </script>
<div th:replace="~{admin/_footer.html}"></div>